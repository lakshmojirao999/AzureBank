{
    "AWSTemplateFormatVersion": "2010-09-09",
    "Description": "AWS CloudFormation Template that creates the necessary  complained resources.",
    "Mappings": {
        "AWSInfoRegionMap": {
            "us-east-1": {
                "QuickStartS3URL": "https://s3.amazonaws.com"
            }
        },
        "RegionServiceSupport": {
            "us-east-1": {
                "ConfigRules": "true"
            },
            "ap-northeast-1": {
                "ConfigRules": "false"
            }
        }
    },
    "Parameters": {
        "pSSHLocation": {
            "Description": "Lockdown SSH access to the bastion host (default can be accessed from anywhere)",
            "Type": "String",
            "MinLength": "9",
            "MaxLength": "19",
            "Default": "0.0.0.0/0",
            "AllowedPattern": "(\\d{1,3})\\.(\\d{1,3})\\.(\\d{1,3})\\.(\\d{1,3})/(\\d{1,2})",
            "ConstraintDescription": "must be a valid CIDR range of the form x.x.x.x/x."
        },
        "pWebServerInstanceType": {
            "Description": "WebServer Server EC2 instance type",
            "Type": "String",
            "Default": "t2.micro"
        },
        "pWebServerKeyName": {
            "Description": "The SSH key pair in your account to use for all other WebServer instance logins",
            "Type": "AWS::EC2::KeyPair::KeyName",
            "Default": "awscoe",
            "ConstraintDescription": "must be the name of an existing EC2 KeyPair."
        },
        "pWebEBSVolumeSize": {
            "Description": "Size in GiB of the WebEBS volume if attached",
            "Type": "Number",
            "Default": "100",
            "MinValue": "1",
            "MaxValue": "1000"
        },
        "pWebEBSIOPs": {
            "Description": "Provisioned IOPs for WebEBS volume if supported by the instance type",
            "Type": "Number",
            "Default": "100",
            "MinValue": "1",
            "MaxValue": "30000"
        },
        "pVPNAddress": {
            "Type": "String",
            "Description": "IP Address of your VPN device",
            "MinLength": "7",
            "MaxLength": "15",
            "Default": "172.0.1.255",
            "AllowedPattern": "(\\d{1,3})\\.(\\d{1,3})\\.(\\d{1,3})\\.(\\d{1,3})",
            "ConstraintDescription": "must be a valid IP address of the form x.x.x.x"
        },
        "pOnPremiseCIDR": {
            "Type": "String",
            "Description": "IP Address range for your existing infrastructure",
            "MinLength": "9",
            "MaxLength": "19",
            "Default": "10.0.0.0/16",
            "AllowedPattern": "(\\d{1,3})\\.(\\d{1,3})\\.(\\d{1,3})\\.(\\d{1,3})/(\\d{1,2})",
            "ConstraintDescription": "must be a valid IP CIDR range of the form x.x.x.x/x."
        },
        "pDBName": {
            "Default": "SampleGuidewareDatabase",
            "Description": "The database name",
            "Type": "String",
            "MinLength": "1",
            "MaxLength": "64",
            "AllowedPattern": "[a-zA-Z][a-zA-Z0-9]*",
            "ConstraintDescription": "Must be 1 to 64 alphanumeric characters.must begin with a letter and contain only alphanumeric characters."
        },
        "pDBUser": {
            "Default": "admin",
            "NoEcho": "true",
            "Description": "The database admin account username",
            "Type": "String",
            "MinLength": "1",
            "MaxLength": "16",
            "AllowedPattern": "[a-zA-Z][a-zA-Z0-9]*",
            "ConstraintDescription": "Must be 1 to 16 alphanumeric characters.First character must be a letter.Cannot be a reserved word for the chosen database engine."
        },
        "pDBPassword": {
            "NoEcho": "true",
            "Description": "Mixed alphanumeric and must be between 8 and 28 characters and contain at least one capital letter",
            "Type": "String",
            "MinLength": "8",
            "MaxLength": "28",
            "Default": "admin123",
            "AllowedPattern": "[a-zA-Z][a-zA-Z0-9]*",
            "ConstraintDescription": "Can only contain alphanumeric characters or the following special characters !^*-_+, between 8 and 28 characters."
        },
        "pAppServerKeyName": {
            "Description": "The SSH key pair in your account to use for all other Application instance logins",
            "Type": "AWS::EC2::KeyPair::KeyName",
            "Default": "awscoe",
            "ConstraintDescription": "must be the name of an existing EC2 KeyPair."
        },
        "pAppInstanceType": {
            "Description": "Application Server EC2 instance type",
            "Type": "String",
            "Default": "t2.micro"
        },
        "pAppEBSVolumeSize": {
            "Description": "Size in GiB of the App EBS volume if attached",
            "Type": "Number",
            "Default": "100",
            "MinValue": "1",
            "MaxValue": "1000"
        },
        "pAppEBSIOPs": {
            "Description": "Provisioned IOPs for EBS volume if supported by the instance type",
            "Type": "Number",
            "Default": "100",
            "MinValue": "1",
            "MaxValue": "30000"
        },
        "pBastionKeyName": {
            "Description": "The SSH key pair in your account to use for the bastion host login",
            "Type": "AWS::EC2::KeyPair::KeyName",
            "Default": "awscoe",
            "ConstraintDescription": "must be the name of an existing EC2 KeyPair."
        },
        "pBastionInstanceType": {
            "Description": "WebServer Server EC2 instance type",
            "Type": "String",
            "Default": "t2.micro"
        },
        "pVPCCIDR": {
            "Type": "String",
            "Default": "172.0.0.0/16",
            "Description": "The VPC CidrBlock"
        },
        "pPublicSubnetCIDRAZ1": {
            "Type": "String",
            "Default": "172.0.0.0/24",
            "Description": "The Public SUBnet CidrBlock for NAT in AZ1"
        },
        "pwebPrivateSubnetCIDRAZ1": {
            "Type": "String",
            "Default": "172.0.1.0/24",
            "Description": "The Private SUBnet CidrBlock for Web in AZ1"
        },
        "pPrivateSubnetCIDRforAPPAZ1": {
            "Type": "String",
            "Default": "172.0.2.0/24",
            "Description": "The Private SubNet CidrBlock for APP in AZ1"
        },
        "pPrivateSubNetCIDRforDBAZ1": {
            "Type": "String",
            "Default": "172.0.3.0/24",
            "Description": "The Private SubNet CidrBlock for DB in AZ1"
        },
        "pPublicSubnetCIDRAZ2": {
            "Type": "String",
            "Default": "172.0.4.0/24",
            "Description": "The Public SUBnet CidrBlock for NAT in AZ2"
        },
        "pwebPrivateSubnetCIDRAZ2": {
            "Type": "String",
            "Default": "172.0.5.0/24",
            "Description": "The Private SUBnet CidrBlock for Web in AZ2"
        },
        "pPrivateSubnetCIDRforAPPAZ2": {
            "Type": "String",
            "Default": "172.0.6.0/24",
            "Description": "The Private SubNet CidrBlock for APP in AZ2"
        },
        "pPrivateRouteDtnCIDR": {
            "Type": "String",
            "Default": "192.0.0.0/16"
        },
        "pPrivateSubNetCIDRforDBAZ2": {
            "Type": "String",
            "Default": "172.0.7.0/24",
            "Description": "The Private SubNet CidrBlock for DB in AZ2"
        },
        "pSSLCertificateArn": {
            "Type": "String",
            "Default": "arn:aws:iam::932833910912:server-certificate/TEST-CERT",
            "Description": "The default SSL Certificate should be available in AWS account."
        },
        "GuidewareKMSUser": {
            "Type": "String",
            "Default": "arn:aws:iam::932833910912:user/Prasad.KGV@cognizant.com",
            "Description": "The default User ARN available in AWS account for KMS encryption."
        },
        "pOperatorEmail": {
            "Default": "nobody@somewhere.com",
            "Description": "EMail address to notify if there are any operational issues",
            "Type": "String"
        },
        "pSupportsConfig": {
            "Type": "String",
            "AllowedValues": [
                "Yes",
                "No"
            ],
            "Default": "No",
            "Description": "Is AWS Config Rules already configured for this region? Use ''No'' if you are uncertain. AWS Config Rules is available in these regions: US East(Virginia), US West (Oregon), EU West (Ireland), and EU Central (Frankfurt).See AWS Config Management Console or Deployment Guide for details."
        },
        "QSS3BucketName": {
            "Type": "String",
            "AllowedPattern": "^[0-9a-zA-Z]+([0-9a-zA-Z-.]*[0-9a-zA-Z])*$",
            "Default": "cfntemplates-coe",
            "Description": "S3 bucket name for the Quick Start assets. Quick Start bucket name can include numbers, lowercase letters, uppercase letters, and hyphens (-).It cannot start or end with a hyphen (-).",
            "ConstraintDescription": "Quick Start bucket name can include numbers, lowercase letters, uppercase letters, periods (.), and hyphens (-). It cannot start or end with a hyphen (-)."
        },
        "QSS3KeyPrefix": {
            "Type": "String",
            "AllowedPattern": "^[0-9a-zA-Z-]+(/[0-9a-zA-Z-]+)*$",
            "Default": "Guideware",
            "Description": "S3 key prefix for the Quick Start assets. Quick Start key prefix can include numbers, lowercase letters, uppercase letters, hyphens (-), and forward slash (/). It cannot start or end with forward slash (/) because they are automatically appended.",
            "ConstraintDescription": "Quick Start key prefix can include numbers, lowercase letters, uppercase letters, hyphens (-), and forward slash (/). It cannot start or end with forward slash (/) because they are automatically appended."
        }
    },
    "Resources": {
        "rVPC": {
            "Type": "AWS::EC2::VPC",
            "Properties": {
                "CidrBlock": {
                    "Ref": "pVPCCIDR"
                },
                "EnableDnsSupport": "true",
                "EnableDnsHostnames": "true",
                "Tags": [
                    {
                        "Key": "Name",
                        "Value": "Guideware-VPC"
                    },
                    {
                        "Key": "Application",
                        "Value": {
                            "Ref": "AWS::StackId"
                        }
                    },
                    {
                        "Key": "Network",
                        "Value": "Public"
                    }
                ]
            },
            "Metadata": {
                "AWS::CloudFormation::Designer": {
                    "id": "cc74d66d-558a-4c5b-bc0b-963b1b845dcd"
                }
            }
        },
        "InternetGateway": {
            "Type": "AWS::EC2::InternetGateway",
            "Properties": {
                "Tags": [
                    {
                        "Key": "Name",
                        "Value": "Guideware-InternetGateway"
                    },
                    {
                        "Key": "Application",
                        "Value": {
                            "Ref": "AWS::StackId"
                        }
                    },
                    {
                        "Key": "Network",
                        "Value": "Public"
                    }
                ]
            },
            "Metadata": {
                "AWS::CloudFormation::Designer": {
                    "id": "55f71046-7979-4f7d-9aeb-42d91b3921fb"
                }
            }
        },
        "rMyRoute": {
            "Type": "AWS::EC2::Route",
            "Properties": {
                "RouteTableId": {
                    "Ref": "rPublicRouteTable"
                },
                "DestinationCidrBlock": "0.0.0.0/0",
                "GatewayId": {
                    "Ref": "InternetGateway"
                }
            },
            "Metadata": {
                "AWS::CloudFormation::Designer": {
                    "id": "a26d6d51-ab21-4c09-a5b1-c727936aae62"
                }
            }
        },
        "GatewayToInternet": {
            "Type": "AWS::EC2::VPCGatewayAttachment",
            "Properties": {
                "VpcId": {
                    "Ref": "rVPC"
                },
                "InternetGatewayId": {
                    "Ref": "InternetGateway"
                }
            },
            "Metadata": {
                "AWS::CloudFormation::Designer": {
                    "id": "08999143-e436-4399-a066-256c50af1b04"
                }
            }
        },
        "rPrivateSubnetDBAZ1": {
            "Type": "AWS::EC2::Subnet",
            "Properties": {
                "VpcId": {
                    "Ref": "rVPC"
                },
                "CidrBlock": {
                    "Ref": "pPrivateSubNetCIDRforDBAZ1"
                },
                "AvailabilityZone": "us-east-1a",
                "Tags": [
                    {
                        "Key": "Name",
                        "Value": "Guideware-PrivateDBSubnet"
                    },
                    {
                        "Key": "Application",
                        "Value": {
                            "Ref": "AWS::StackId"
                        }
                    },
                    {
                        "Key": "Network",
                        "Value": "Private"
                    }
                ]
            },
            "Metadata": {
                "AWS::CloudFormation::Designer": {
                    "id": "38889972-bc47-4f0c-a53e-3c7a94dc4592"
                }
            }
        },
        "rPrivateSubnetDBAZ2": {
            "Type": "AWS::EC2::Subnet",
            "Properties": {
                "VpcId": {
                    "Ref": "rVPC"
                },
                "CidrBlock": {
                    "Ref": "pPrivateSubNetCIDRforDBAZ2"
                },
                "AvailabilityZone": "us-east-1e",
                "Tags": [
                    {
                        "Key": "Name",
                        "Value": "Guideware-PrivateDBSubnet"
                    },
                    {
                        "Key": "Application",
                        "Value": {
                            "Ref": "AWS::StackId"
                        }
                    },
                    {
                        "Key": "Network",
                        "Value": "Private"
                    }
                ]
            },
            "Metadata": {
                "AWS::CloudFormation::Designer": {
                    "id": "10231204-86c0-49a1-beb7-ed948140e170"
                }
            }
        },
        "rPublicSubnetAZ1": {
            "Type": "AWS::EC2::Subnet",
            "Properties": {
                "VpcId": {
                    "Ref": "rVPC"
                },
                "AvailabilityZone": "us-east-1a",
                "CidrBlock": {
                    "Ref": "pPublicSubnetCIDRAZ1"
                },
                "Tags": [
                    {
                        "Key": "Name",
                        "Value": "Guideware-PublicSubnet"
                    },
                    {
                        "Key": "Application",
                        "Value": {
                            "Ref": "AWS::StackId"
                        }
                    },
                    {
                        "Key": "Network",
                        "Value": "Public"
                    }
                ]
            },
            "Metadata": {
                "AWS::CloudFormation::Designer": {
                    "id": "5120d8aa-085f-486d-aa46-4658d5a0fe99"
                }
            }
        },
        "rPublicSubnetAZ2": {
            "Type": "AWS::EC2::Subnet",
            "Properties": {
                "VpcId": {
                    "Ref": "rVPC"
                },
                "AvailabilityZone": "us-east-1e",
                "CidrBlock": {
                    "Ref": "pPublicSubnetCIDRAZ2"
                },
                "Tags": [
                    {
                        "Key": "Name",
                        "Value": "Guideware-PublicSubnet"
                    },
                    {
                        "Key": "Application",
                        "Value": {
                            "Ref": "AWS::StackId"
                        }
                    },
                    {
                        "Key": "Network",
                        "Value": "Public"
                    }
                ]
            },
            "Metadata": {
                "AWS::CloudFormation::Designer": {
                    "id": "d1a4544e-25ad-475a-b61b-5b503f5da86d"
                }
            }
        },
        "rPublicRouteTable": {
            "Type": "AWS::EC2::RouteTable",
            "Properties": {
                "VpcId": {
                    "Ref": "rVPC"
                },
                "Tags": [
                    {
                        "Key": "Name",
                        "Value": "Guideware-PublicRouteTable"
                    },
                    {
                        "Key": "Application",
                        "Value": {
                            "Ref": "AWS::StackId"
                        }
                    },
                    {
                        "Key": "Network",
                        "Value": "Public"
                    }
                ]
            },
            "Metadata": {
                "AWS::CloudFormation::Designer": {
                    "id": "18503f37-e3c6-43f9-8268-7bd4ba0a7b71"
                }
            }
        },
        "rPublicSubnetRouteTableAssociationAZ1": {
            "Properties": {
                "RouteTableId": {
                    "Ref": "rPublicRouteTable"
                },
                "SubnetId": {
                    "Ref": "rPublicSubnetAZ1"
                }
            },
            "Type": "AWS::EC2::SubnetRouteTableAssociation",
            "Metadata": {
                "AWS::CloudFormation::Designer": {
                    "id": "c4ff394d-65bc-46ee-972a-63ec9f817db4"
                }
            }
        },
        "rPublicSubnetRouteTableAssociationAZ2": {
            "Properties": {
                "RouteTableId": {
                    "Ref": "rPublicRouteTable"
                },
                "SubnetId": {
                    "Ref": "rPublicSubnetAZ2"
                }
            },
            "Type": "AWS::EC2::SubnetRouteTableAssociation",
            "Metadata": {
                "AWS::CloudFormation::Designer": {
                    "id": "dfbcf14b-f1d0-4d6f-986b-cbd10916137e"
                }
            }
        },
        "rPublicNetworkAcl": {
            "Type": "AWS::EC2::NetworkAcl",
            "Properties": {
                "VpcId": {
                    "Ref": "rVPC"
                },
                "Tags": [
                    {
                        "Key": "Name",
                        "Value": "Guideware-PublicNetworkAcl"
                    },
                    {
                        "Key": "Application",
                        "Value": {
                            "Ref": "AWS::StackId"
                        }
                    },
                    {
                        "Key": "Network",
                        "Value": "Public"
                    }
                ]
            },
            "Metadata": {
                "AWS::CloudFormation::Designer": {
                    "id": "6c27d479-a6a0-4cfe-b324-24ed479ae900"
                }
            }
        },
        "rInboundHTTPPublicNetworkAclEntry": {
            "Type": "AWS::EC2::NetworkAclEntry",
            "Properties": {
                "NetworkAclId": {
                    "Ref": "rPublicNetworkAcl"
                },
                "RuleNumber": "100",
                "Protocol": "6",
                "RuleAction": "allow",
                "Egress": "false",
                "CidrBlock": "0.0.0.0/0",
                "PortRange": {
                    "From": "80",
                    "To": "80"
                }
            },
            "Metadata": {
                "AWS::CloudFormation::Designer": {
                    "id": "6bcfccad-a9f5-4f49-b13a-fdeabb625020"
                }
            }
        },
        "rInboundDynamicPortPublicNetworkAclEntry": {
            "Type": "AWS::EC2::NetworkAclEntry",
            "Properties": {
                "NetworkAclId": {
                    "Ref": "rPublicNetworkAcl"
                },
                "RuleNumber": "101",
                "Protocol": "6",
                "RuleAction": "allow",
                "Egress": "false",
                "CidrBlock": "0.0.0.0/0",
                "PortRange": {
                    "From": "0",
                    "To": "65535"
                }
            },
            "Metadata": {
                "AWS::CloudFormation::Designer": {
                    "id": "1047eb91-4a72-4df7-868c-9d96c63913fd"
                }
            }
        },
        "rInboundSSHPublicNetworkAclEntry": {
            "Type": "AWS::EC2::NetworkAclEntry",
            "Properties": {
                "NetworkAclId": {
                    "Ref": "rPublicNetworkAcl"
                },
                "RuleNumber": "102",
                "Protocol": "6",
                "RuleAction": "allow",
                "Egress": "false",
                "CidrBlock": "0.0.0.0/0",
                "PortRange": {
                    "From": "22",
                    "To": "22"
                }
            },
            "Metadata": {
                "AWS::CloudFormation::Designer": {
                    "id": "ec05861c-3a5c-48cd-bfe8-d1a56ea1c8b4"
                }
            }
        },
        "rOutboundPublicNetworkAclEntry": {
            "Type": "AWS::EC2::NetworkAclEntry",
            "Properties": {
                "NetworkAclId": {
                    "Ref": "rPublicNetworkAcl"
                },
                "RuleNumber": "100",
                "Protocol": "6",
                "RuleAction": "allow",
                "Egress": "true",
                "CidrBlock": "0.0.0.0/0",
                "PortRange": {
                    "From": "0",
                    "To": "65535"
                }
            },
            "Metadata": {
                "AWS::CloudFormation::Designer": {
                    "id": "f0d381ce-5641-4540-88b4-25c225ab26dc"
                }
            }
        },
        "rPublicSubnetNetworkAclAssociationAZ1": {
            "Type": "AWS::EC2::SubnetNetworkAclAssociation",
            "Properties": {
                "SubnetId": {
                    "Ref": "rPublicSubnetAZ1"
                },
                "NetworkAclId": {
                    "Ref": "rPublicNetworkAcl"
                }
            },
            "Metadata": {
                "AWS::CloudFormation::Designer": {
                    "id": "bde377a3-60b7-4030-ab89-a35a51a7f8e1"
                }
            }
        },
        "rPublicSubnetNetworkAclAssociationAZ2": {
            "Type": "AWS::EC2::SubnetNetworkAclAssociation",
            "Properties": {
                "SubnetId": {
                    "Ref": "rPublicSubnetAZ2"
                },
                "NetworkAclId": {
                    "Ref": "rPublicNetworkAcl"
                }
            },
            "Metadata": {
                "AWS::CloudFormation::Designer": {
                    "id": "5046a03a-347d-4faf-9ea4-a372000c9a17"
                }
            }
        },
        "rPrivateSubnetAZ1": {
            "Type": "AWS::EC2::Subnet",
            "Properties": {
                "VpcId": {
                    "Ref": "rVPC"
                },
                "AvailabilityZone": "us-east-1a",
                "CidrBlock": {
                    "Ref": "pPrivateSubnetCIDRforAPPAZ1"
                },
                "Tags": [
                    {
                        "Key": "Name",
                        "Value": "Guideware-PrivateSubnet"
                    },
                    {
                        "Key": "Application",
                        "Value": {
                            "Ref": "AWS::StackId"
                        }
                    },
                    {
                        "Key": "Network",
                        "Value": "Private"
                    }
                ]
            },
            "Metadata": {
                "AWS::CloudFormation::Designer": {
                    "id": "69d66f41-7d94-498d-a47b-703eaeb8c79e"
                }
            }
        },
        "rPrivateSubnetAZ2": {
            "Type": "AWS::EC2::Subnet",
            "Properties": {
                "VpcId": {
                    "Ref": "rVPC"
                },
                "AvailabilityZone": "us-east-1e",
                "CidrBlock": {
                    "Ref": "pPrivateSubnetCIDRforAPPAZ2"
                },
                "Tags": [
                    {
                        "Key": "Name",
                        "Value": "Guideware-PrivateSubnet"
                    },
                    {
                        "Key": "Application",
                        "Value": {
                            "Ref": "AWS::StackId"
                        }
                    },
                    {
                        "Key": "Network",
                        "Value": "Private"
                    }
                ]
            },
            "Metadata": {
                "AWS::CloudFormation::Designer": {
                    "id": "97fa1ea3-c811-49b8-b507-bd5c88866213"
                }
            }
        },
        "rwebPrivateSubnetAZ1": {
            "Type": "AWS::EC2::Subnet",
            "Properties": {
                "VpcId": {
                    "Ref": "rVPC"
                },
                "AvailabilityZone": "us-east-1a",
                "CidrBlock": {
                    "Ref": "pwebPrivateSubnetCIDRAZ1"
                },
                "Tags": [
                    {
                        "Key": "Name",
                        "Value": "Guideware-WebPrivateSubnet"
                    },
                    {
                        "Key": "Application",
                        "Value": {
                            "Ref": "AWS::StackId"
                        }
                    },
                    {
                        "Key": "Network",
                        "Value": "Private"
                    }
                ]
            },
            "Metadata": {
                "AWS::CloudFormation::Designer": {
                    "id": "b95c0b8c-571c-459b-ae13-f8a33890bd60"
                }
            }
        },
        "rwebPrivateSubnetAZ2": {
            "Type": "AWS::EC2::Subnet",
            "Properties": {
                "VpcId": {
                    "Ref": "rVPC"
                },
                "AvailabilityZone": "us-east-1e",
                "CidrBlock": {
                    "Ref": "pwebPrivateSubnetCIDRAZ2"
                },
                "Tags": [
                    {
                        "Key": "Name",
                        "Value": "Guideware-WebPrivateSubnet"
                    },
                    {
                        "Key": "Application",
                        "Value": {
                            "Ref": "AWS::StackId"
                        }
                    },
                    {
                        "Key": "Network",
                        "Value": "Private"
                    }
                ]
            },
            "Metadata": {
                "AWS::CloudFormation::Designer": {
                    "id": "765e5873-f7b9-48e0-b8e2-78f80af80c69"
                }
            }
        },
        "rVPNGateway": {
            "Type": "AWS::EC2::VPNGateway",
            "Properties": {
                "Type": "ipsec.1",
                "Tags": [
                    {
                        "Key": "Name",
                        "Value": "Guideware-VPNGateway"
                    },
                    {
                        "Key": "Application",
                        "Value": {
                            "Ref": "AWS::StackName"
                        }
                    }
                ]
            },
            "Metadata": {
                "AWS::CloudFormation::Designer": {
                    "id": "5ab87b09-a619-46cf-8934-533d117a0fb1"
                }
            }
        },
        "rVPNGatewayAttachment": {
            "Type": "AWS::EC2::VPCGatewayAttachment",
            "Properties": {
                "VpcId": {
                    "Ref": "rVPC"
                },
                "VpnGatewayId": {
                    "Ref": "rVPNGateway"
                }
            },
            "Metadata": {
                "AWS::CloudFormation::Designer": {
                    "id": "845631d0-1076-4893-8fea-b82eb09fe86f"
                }
            }
        },
        "rCustomerGateway": {
            "Type": "AWS::EC2::CustomerGateway",
            "Properties": {
                "Type": "ipsec.1",
                "BgpAsn": "65000",
                "IpAddress": {
                    "Ref": "pVPNAddress"
                },
                "Tags": [
                    {
                        "Key": "Name",
                        "Value": "Guideware-CustomerGateway"
                    },
                    {
                        "Key": "Application",
                        "Value": {
                            "Ref": "AWS::StackName"
                        }
                    },
                    {
                        "Key": "VPN",
                        "Value": {
                            "Fn::Join": [
                                "",
                                [
                                    "Gateway to ",
                                    {
                                        "Ref": "pVPNAddress"
                                    }
                                ]
                            ]
                        }
                    }
                ]
            },
            "Metadata": {
                "AWS::CloudFormation::Designer": {
                    "id": "343c4b60-8570-4028-995c-e15a45b83c04"
                }
            }
        },
        "rVPNConnection": {
            "Type": "AWS::EC2::VPNConnection",
            "Properties": {
                "Type": "ipsec.1",
                "StaticRoutesOnly": "true",
                "CustomerGatewayId": {
                    "Ref": "rCustomerGateway"
                },
                "VpnGatewayId": {
                    "Ref": "rVPNGateway"
                },
                "Tags": [
                    {
                        "Key": "Name",
                        "Value": "Guideware-VPNConnection"
                    }
                ]
            },
            "Metadata": {
                "AWS::CloudFormation::Designer": {
                    "id": "37b279d5-23fe-4257-a398-9fd164aa2c08"
                }
            }
        },
        "rVPNConnectionRoute": {
            "Type": "AWS::EC2::VPNConnectionRoute",
            "Properties": {
                "VpnConnectionId": {
                    "Ref": "rVPNConnection"
                },
                "DestinationCidrBlock": {
                    "Ref": "pOnPremiseCIDR"
                }
            },
            "Metadata": {
                "AWS::CloudFormation::Designer": {
                    "id": "3417b4ac-11ce-4721-b2e6-a0dd23075e4f"
                }
            }
        },
        "rPrivateRouteTable": {
            "Type": "AWS::EC2::RouteTable",
            "Properties": {
                "VpcId": {
                    "Ref": "rVPC"
                },
                "Tags": [
                    {
                        "Key": "Name",
                        "Value": "Guideware-PrivateRouteTable"
                    },
                    {
                        "Key": "Application",
                        "Value": {
                            "Ref": "AWS::StackName"
                        }
                    },
                    {
                        "Key": "Network",
                        "Value": "VPN Connected Subnet"
                    }
                ]
            },
            "Metadata": {
                "AWS::CloudFormation::Designer": {
                    "id": "c4450a3f-2d14-4786-a414-2b67ed80b268"
                }
            }
        },
        "rPrivateSubnetRouteTableAssociationAZ1": {
            "Type": "AWS::EC2::SubnetRouteTableAssociation",
            "Properties": {
                "SubnetId": {
                    "Ref": "rPrivateSubnetAZ1"
                },
                "RouteTableId": {
                    "Ref": "rPrivateRouteTable"
                }
            },
            "Metadata": {
                "AWS::CloudFormation::Designer": {
                    "id": "bd414290-2000-400d-9044-7bd090cdcf06"
                }
            }
        },
        "rPrivateSubnetRouteTableAssociationAZ2": {
            "Type": "AWS::EC2::SubnetRouteTableAssociation",
            "Properties": {
                "SubnetId": {
                    "Ref": "rPrivateSubnetAZ2"
                },
                "RouteTableId": {
                    "Ref": "rPrivateRouteTable"
                }
            },
            "Metadata": {
                "AWS::CloudFormation::Designer": {
                    "id": "e9258c20-ee8e-4126-a535-a9bf0bba2049"
                }
            }
        },
        "rwebPrivateSubnetRouteTableAssociationAZ1": {
            "Type": "AWS::EC2::SubnetRouteTableAssociation",
            "Properties": {
                "SubnetId": {
                    "Ref": "rwebPrivateSubnetAZ1"
                },
                "RouteTableId": {
                    "Ref": "rPrivateRouteTable"
                }
            },
            "Metadata": {
                "AWS::CloudFormation::Designer": {
                    "id": "4aadcf07-52f3-462b-9178-7cac2f6c02b2"
                }
            }
        },
        "rwebPrivateSubnetRouteTableAssociationAZ2": {
            "Type": "AWS::EC2::SubnetRouteTableAssociation",
            "Properties": {
                "SubnetId": {
                    "Ref": "rwebPrivateSubnetAZ2"
                },
                "RouteTableId": {
                    "Ref": "rPrivateRouteTable"
                }
            },
            "Metadata": {
                "AWS::CloudFormation::Designer": {
                    "id": "d1144ffb-8741-47ca-9fb2-bdb6a8e73ac3"
                }
            }
        },
        "rdbPrivateSubnetRouteTableAssociationAZ1": {
            "Type": "AWS::EC2::SubnetRouteTableAssociation",
            "Properties": {
                "SubnetId": {
                    "Ref": "rPrivateSubnetDBAZ1"
                },
                "RouteTableId": {
                    "Ref": "rPrivateRouteTable"
                }
            },
            "Metadata": {
                "AWS::CloudFormation::Designer": {
                    "id": "ae7591e7-201a-4fa4-bc9e-134a903be7b7"
                }
            }
        },
        "rdbPrivateSubnetRouteTableAssociationAZ2": {
            "Type": "AWS::EC2::SubnetRouteTableAssociation",
            "Properties": {
                "SubnetId": {
                    "Ref": "rPrivateSubnetDBAZ2"
                },
                "RouteTableId": {
                    "Ref": "rPrivateRouteTable"
                }
            },
            "Metadata": {
                "AWS::CloudFormation::Designer": {
                    "id": "93a3a9ba-de85-4cb4-9f9f-2bfdc6d11420"
                }
            }
        },
        "rPrivateRouteAZ1": {
            "Type": "AWS::EC2::Route",
            "DependsOn": "rVPNGatewayAttachment",
            "Properties": {
                "RouteTableId": {
                    "Ref": "rPrivateRouteTable"
                },
                "DestinationCidrBlock": {
                    "Ref": "pPrivateRouteDtnCIDR"
                },
                "NatGatewayId": {
                    "Ref": "rAPPNATGatewayAZ1"
                }
            },
            "Metadata": {
                "AWS::CloudFormation::Designer": {
                    "id": "38091ba6-55d9-47a2-982e-c66d496b2b90"
                }
            }
        },
        "rPrivateNetworkAcl": {
            "Type": "AWS::EC2::NetworkAcl",
            "Properties": {
                "VpcId": {
                    "Ref": "rVPC"
                },
                "Tags": [
                    {
                        "Key": "Name",
                        "Value": "Guideware-PrivateNetworkAcl"
                    },
                    {
                        "Key": "Application",
                        "Value": {
                            "Ref": "AWS::StackName"
                        }
                    },
                    {
                        "Key": "Network",
                        "Value": "Private"
                    }
                ]
            },
            "Metadata": {
                "AWS::CloudFormation::Designer": {
                    "id": "2e834c5e-df8c-443b-903c-b528260b32eb"
                }
            }
        },
        "rInboundPrivateNetworkAclEntry": {
            "Type": "AWS::EC2::NetworkAclEntry",
            "Properties": {
                "NetworkAclId": {
                    "Ref": "rPrivateNetworkAcl"
                },
                "RuleNumber": "100",
                "Protocol": "6",
                "RuleAction": "allow",
                "Egress": "false",
                "CidrBlock": "0.0.0.0/0",
                "PortRange": {
                    "From": "0",
                    "To": "65535"
                }
            },
            "Metadata": {
                "AWS::CloudFormation::Designer": {
                    "id": "57c7aeed-d178-461f-b2a8-63c640af1431"
                }
            }
        },
        "rOutBoundPrivateNetworkAclEntry": {
            "Type": "AWS::EC2::NetworkAclEntry",
            "Properties": {
                "NetworkAclId": {
                    "Ref": "rPrivateNetworkAcl"
                },
                "RuleNumber": "100",
                "Protocol": "6",
                "RuleAction": "allow",
                "Egress": "true",
                "CidrBlock": "0.0.0.0/0",
                "PortRange": {
                    "From": "0",
                    "To": "65535"
                }
            },
            "Metadata": {
                "AWS::CloudFormation::Designer": {
                    "id": "3ac6a853-4804-4cde-89ba-65552a7e4844"
                }
            }
        },
        "rPrivateSubnetNetworkAclAssociationAZ1": {
            "Type": "AWS::EC2::SubnetNetworkAclAssociation",
            "Properties": {
                "SubnetId": {
                    "Ref": "rPrivateSubnetAZ1"
                },
                "NetworkAclId": {
                    "Ref": "rPrivateNetworkAcl"
                }
            },
            "Metadata": {
                "AWS::CloudFormation::Designer": {
                    "id": "1f3fa8de-2929-40fb-a4b4-ec9841ad80ed"
                }
            }
        },
        "rPrivateSubnetNetworkAclAssociationAZ2": {
            "Type": "AWS::EC2::SubnetNetworkAclAssociation",
            "Properties": {
                "SubnetId": {
                    "Ref": "rPrivateSubnetAZ2"
                },
                "NetworkAclId": {
                    "Ref": "rPrivateNetworkAcl"
                }
            },
            "Metadata": {
                "AWS::CloudFormation::Designer": {
                    "id": "e31d4d24-ca5c-46a3-949f-d67d5b6c59f0"
                }
            }
        },
        "rwebPrivateSubnetNetworkAclAssociationAZ1": {
            "Type": "AWS::EC2::SubnetNetworkAclAssociation",
            "Properties": {
                "SubnetId": {
                    "Ref": "rwebPrivateSubnetAZ1"
                },
                "NetworkAclId": {
                    "Ref": "rPrivateNetworkAcl"
                }
            },
            "Metadata": {
                "AWS::CloudFormation::Designer": {
                    "id": "112bab77-6c3f-4c33-a5ff-60f8a9344929"
                }
            }
        },
        "rwebPrivateSubnetNetworkAclAssociationAZ2": {
            "Type": "AWS::EC2::SubnetNetworkAclAssociation",
            "Properties": {
                "SubnetId": {
                    "Ref": "rwebPrivateSubnetAZ2"
                },
                "NetworkAclId": {
                    "Ref": "rPrivateNetworkAcl"
                }
            },
            "Metadata": {
                "AWS::CloudFormation::Designer": {
                    "id": "778df171-5601-41df-a1a8-d2cf28ab2abb"
                }
            }
        },
        "rdbPrivateSubnetNetworkAclAssociationAZ1": {
            "Type": "AWS::EC2::SubnetNetworkAclAssociation",
            "Properties": {
                "SubnetId": {
                    "Ref": "rPrivateSubnetDBAZ1"
                },
                "NetworkAclId": {
                    "Ref": "rPrivateNetworkAcl"
                }
            },
            "Metadata": {
                "AWS::CloudFormation::Designer": {
                    "id": "3a70cc73-78af-4dfe-b196-e7c44b8341d3"
                }
            }
        },
        "rdbPrivateSubnetNetworkAclAssociationAZ2": {
            "Type": "AWS::EC2::SubnetNetworkAclAssociation",
            "Properties": {
                "SubnetId": {
                    "Ref": "rPrivateSubnetDBAZ2"
                },
                "NetworkAclId": {
                    "Ref": "rPrivateNetworkAcl"
                }
            },
            "Metadata": {
                "AWS::CloudFormation::Designer": {
                    "id": "c12f73c5-bf8b-48d2-8ff9-021118b874e0"
                }
            }
        },
        "rEIPAZ1": {
            "Type": "AWS::EC2::EIP",
            "Properties": {
                "Domain": "vpc"
            },
            "Metadata": {
                "AWS::CloudFormation::Designer": {
                    "id": "fb03a7a3-eae5-4f35-8ea1-a1c8ef661186"
                }
            }
        },
        "rEIPAZ2": {
            "Type": "AWS::EC2::EIP",
            "Properties": {
                "Domain": "vpc"
            },
            "Metadata": {
                "AWS::CloudFormation::Designer": {
                    "id": "f1d848b4-49ea-4e9f-8a8b-053b2270a341"
                }
            }
        },
        "rAPPNATGatewayAZ1": {
            "Type": "AWS::EC2::NatGateway",
            "Properties": {
                "AllocationId": {
                    "Fn::GetAtt": [
                        "rEIPAZ1",
                        "AllocationId"
                    ]
                },
                "SubnetId": {
                    "Ref": "rPublicSubnetAZ1"
                }
            },
            "Metadata": {
                "AWS::CloudFormation::Designer": {
                    "id": "9720db45-f61d-4f79-b1ee-509aba3dafba"
                }
            }
        },
        "rAPPNATGatewayAZ2": {
            "Type": "AWS::EC2::NatGateway",
            "Properties": {
                "AllocationId": {
                    "Fn::GetAtt": [
                        "rEIPAZ2",
                        "AllocationId"
                    ]
                },
                "SubnetId": {
                    "Ref": "rPublicSubnetAZ2"
                }
            },
            "Metadata": {
                "AWS::CloudFormation::Designer": {
                    "id": "f10815df-0eaa-4247-9b03-62e4d221330b"
                }
            }
        },
        "rNATRouteAZ1": {
            "Type": "AWS::EC2::Route",
            "Properties": {
                "RouteTableId": {
                    "Ref": "rPrivateRouteTable"
                },
                "DestinationCidrBlock": "0.0.0.0/0",
                "NatGatewayId": {
                    "Ref": "rAPPNATGatewayAZ1"
                }
            },
            "Metadata": {
                "AWS::CloudFormation::Designer": {
                    "id": "34717dce-6283-42dc-8a69-d8244d3f5ea4"
                }
            }
        },
        "WEBIAMRole": {
            "Type": "AWS::IAM::Role",
            "Properties": {
                "AssumeRolePolicyDocument": {
                    "Version": "2012-10-17",
                    "Statement": [
                        {
                            "Effect": "Allow",
                            "Principal": {
                                "Service": [
                                    "ec2.amazonaws.com"
                                ]
                            },
                            "Action": [
                                "sts:AssumeRole"
                            ]
                        }
                    ]
                },
                "Path": "/",
                "Policies": [
                    {
                        "PolicyName": "S3Profile",
                        "PolicyDocument": {
                            "Version": "2012-10-17",
                            "Statement": [
                                {
                                    "Action": [
                                        "s3:Get*",
                                        "s3:List*"
                                    ],
                                    "Effect": "Allow",
                                    "Resource": "*"
                                }
                            ]
                        }
                    },
                    {
                        "PolicyName": "CloudwatchLogsAdmin",
                        "PolicyDocument": {
                            "Version": "2012-10-17",
                            "Statement": [
                                {
                                    "Action": [
                                        "logs:CreateLogGroup",
                                        "logs:CreateLogStream",
                                        "logs:PutLogEvents",
                                        "logs:DescribeLogStreams"
                                    ],
                                    "Effect": "Allow",
                                    "Resource": [
                                        "arn:aws:logs:*:*:*"
                                    ]
                                }
                            ]
                        }
                    }
                ]
            },
            "Metadata": {
                "AWS::CloudFormation::Designer": {
                    "id": "10c6da3b-76b0-40ca-babd-363e9b3cda95"
                }
            }
        },
        "APPIAMRole": {
            "Type": "AWS::IAM::Role",
            "Properties": {
                "AssumeRolePolicyDocument": {
                    "Version": "2012-10-17",
                    "Statement": [
                        {
                            "Effect": "Allow",
                            "Principal": {
                                "Service": [
                                    "ec2.amazonaws.com"
                                ]
                            },
                            "Action": [
                                "sts:AssumeRole"
                            ]
                        }
                    ]
                },
                "Path": "/",
                "Policies": [
                    {
                        "PolicyName": "root",
                        "PolicyDocument": {
                            "Version": "2012-10-17",
                            "Statement": [
                                {
                                    "Effect": "Allow",
                                    "Action": "*",
                                    "Resource": "*"
                                }
                            ]
                        }
                    },
                    {
                        "PolicyName": "S3Profile",
                        "PolicyDocument": {
                            "Version": "2012-10-17",
                            "Statement": [
                                {
                                    "Action": [
                                        "s3:Get*",
                                        "s3:List*"
                                    ],
                                    "Effect": "Allow",
                                    "Resource": "*"
                                }
                            ]
                        }
                    },
                    {
                        "PolicyName": "CloudwatchLogsAdmin",
                        "PolicyDocument": {
                            "Version": "2012-10-17",
                            "Statement": [
                                {
                                    "Action": [
                                        "logs:CreateLogGroup",
                                        "logs:CreateLogStream",
                                        "logs:PutLogEvents",
                                        "logs:DescribeLogStreams"
                                    ],
                                    "Effect": "Allow",
                                    "Resource": [
                                        "arn:aws:logs:*:*:*"
                                    ]
                                }
                            ]
                        }
                    }
                ]
            },
            "Metadata": {
                "AWS::CloudFormation::Designer": {
                    "id": "1f87b093-21a8-4afd-b619-1d619eb68df7"
                }
            }
        },
        "WebInstanceProfile": {
            "Type": "AWS::IAM::InstanceProfile",
            "Properties": {
                "Path": "/",
                "Roles": [
                    {
                        "Ref": "WEBIAMRole"
                    }
                ]
            },
            "Metadata": {
                "AWS::CloudFormation::Designer": {
                    "id": "9b31681f-9a95-471f-b84d-036c46bbe97c"
                }
            }
        },
        "AppInstanceProfile": {
            "Type": "AWS::IAM::InstanceProfile",
            "Properties": {
                "Path": "/",
                "Roles": [
                    {
                        "Ref": "APPIAMRole"
                    }
                ]
            },
            "Metadata": {
                "AWS::CloudFormation::Designer": {
                    "id": "bee4e275-0b83-4bb6-b8c4-9832c5f3785f"
                }
            }
        },
        "rGuidewareEncryptionKey": {
            "Type": "AWS::KMS::Key",
            "Properties": {
                "Description": "A Guideware Encryption key",
                "KeyPolicy": {
                    "Version": "2012-10-17",
                    "Id": "key-default-1",
                    "Statement": [
                        {
                            "Sid": "Allow administration of the key",
                            "Effect": "Allow",
                            "Principal": {
                                "AWS": {
                                    "Ref": "GuidewareKMSUser"
                                }
                            },
                            "Action": [
                                "kms:Create*",
                                "kms:Describe*",
                                "kms:Enable*",
                                "kms:List*",
                                "kms:Put*",
                                "kms:Update*",
                                "kms:Revoke*",
                                "kms:Disable*",
                                "kms:Get*",
                                "kms:Delete*",
                                "kms:ScheduleKeyDeletion",
                                "kms:CancelKeyDeletion"
                            ],
                            "Resource": "*"
                        }
                    ]
                }
            },
            "Metadata": {
                "AWS::CloudFormation::Designer": {
                    "id": "dab0cf5d-1564-43de-a426-cb17cd63acea"
                }
            }
        },
        "PublicLayerStack": {
            "Type": "AWS::CloudFormation::Stack",
            "DependsOn": "WebLayerStack",
            "Properties": {
                "TemplateURL": {
                    "Fn::Join": [
                        "",
                        [
                            {
                                "Fn::FindInMap": [
                                    "AWSInfoRegionMap",
                                    {
                                        "Ref": "AWS::Region"
                                    },
                                    "QuickStartS3URL"
                                ]
                            },
                            "/",
                            {
                                "Ref": "QSS3BucketName"
                            },
                            "/",
                            {
                                "Ref": "QSS3KeyPrefix"
                            },
                            "/",
                            "Guideware-aws-natnew.template"
                        ]
                    ]
                },
                "Parameters": {
                    "pSSHLocation": {
                        "Ref": "pSSHLocation"
                    },
                    "pBastionInstanceType": {
                        "Ref": "pBastionInstanceType"
                    },
                    "pBastionKeyName": {
                        "Ref": "pBastionKeyName"
                    },
                    "pInstanceProfile": {
                        "Fn::GetAtt": [
                            "WebInstanceProfile",
                            "Arn"
                        ]
                    },
                    "pVPCID": {
                        "Ref": "rVPC"
                    },
                    "pPublicSubnetIDAZ1": {
                        "Ref": "rPublicSubnetAZ1"
                    },
                    "pPublicSubnetIDAZ2": {
                        "Ref": "rPublicSubnetAZ2"
                    },
                    "pSSLCertificateArn": {
                        "Ref": "pSSLCertificateArn"
                    },
                    "pWebServerInstanceType": {
                        "Ref": "pWebServerInstanceType"
                    },
                   
                    "pWebServerKeyName": {
                        "Ref": "pWebServerKeyName"
                    },
                    "pwebPrivateSubnetIDAZ1": {
                        "Ref": "rwebPrivateSubnetAZ1"
                    },
                    "pInternalLoadBalancerUrl": {
                        "Fn::GetAtt": [
                            "APPLayerStack",
                            "Outputs.WebsiteURL"
                        ]
                    },
                    "pwebPrivateSubnetAZ1": {
                        "Fn::GetAtt": [
                            "rwebPrivateSubnetAZ1",
                            "AvailabilityZone"
                        ]
                    },
                    "pwebPrivateSubnetIDAZ2": {
                        "Ref": "rwebPrivateSubnetAZ2"
                    },
                    "pKMSKeyID": {
                        "Ref": "rGuidewareEncryptionKey"
                    },
                    "pWebEBSVolumeSize": {
                        "Ref": "pWebEBSVolumeSize"
                    },
                    "pWebEBSIOPs": {
                        "Ref": "pWebEBSIOPs"
                    },
                    "pwebPrivateSubnetAZ2": {
                        "Fn::GetAtt": [
                            "rwebPrivateSubnetAZ2",
                            "AvailabilityZone"
                        ]
                    }
                }
            },
            "Metadata": {
                "AWS::CloudFormation::Designer": {
                    "id": "f548160a-5674-41a3-97e7-1806a3623484"
                }
            }
        },
        "WebLayerStack": {
            "Type": "AWS::CloudFormation::Stack",
            "DependsOn": "APPLayerStack",
            "Properties": {
                "TemplateURL": {
                    "Fn::Join": [
                        "",
                        [
                            {
                                "Fn::FindInMap": [
                                    "AWSInfoRegionMap",
                                    {
                                        "Ref": "AWS::Region"
                                    },
                                    "QuickStartS3URL"
                                ]
                            },
                            "/",
                            {
                                "Ref": "QSS3BucketName"
                            },
                            "/",
                            {
                                "Ref": "QSS3KeyPrefix"
                            },
                            "/",
                            "Guideware-aws-web.template"
                        ]
                    ]
                },
                "Parameters": {
                    "pSSHLocation": {
                        "Ref": "pSSHLocation"
                    },
                    "pWebServerInstanceType": {
                        "Ref": "pWebServerInstanceType"
                    },
                    "pWebServerKeyName": {
                        "Ref": "pWebServerKeyName"
                    },
                    "pInstanceProfile": {
                        "Fn::GetAtt": [
                            "WebInstanceProfile",
                            "Arn"
                        ]
                    },
                    "pVPCID": {
                        "Ref": "rVPC"
                    },
                    "pwebPrivateSubnetIDAZ1": {
                        "Ref": "rwebPrivateSubnetAZ1"
                    },
                    "pwebPrivateSubnetAZ1": {
                        "Fn::GetAtt": [
                            "rwebPrivateSubnetAZ1",
                            "AvailabilityZone"
                        ]
                    },
                    "pwebPrivateSubnetIDAZ2": {
                        "Ref": "rwebPrivateSubnetAZ2"
                    },
                    "pwebPrivateSubnetAZ2": {
                        "Fn::GetAtt": [
                            "rwebPrivateSubnetAZ2",
                            "AvailabilityZone"
                        ]
                    },
                    "pSSLCertificateArn": {
                        "Ref": "pSSLCertificateArn"
                    }
                }
            },
            "Metadata": {
                "AWS::CloudFormation::Designer": {
                    "id": "0d9d81b1-995c-458f-a5bc-f16c686bdc1d"
                }
            }
        },
        "APPLayerStack": {
            "Type": "AWS::CloudFormation::Stack",
            "DependsOn": "DBLayerStack",
            "Properties": {
                "TemplateURL": {
                    "Fn::Join": [
                        "",
                        [
                            {
                                "Fn::FindInMap": [
                                    "AWSInfoRegionMap",
                                    {
                                        "Ref": "AWS::Region"
                                    },
                                    "QuickStartS3URL"
                                ]
                            },
                            "/",
                            {
                                "Ref": "QSS3BucketName"
                            },
                            "/",
                            {
                                "Ref": "QSS3KeyPrefix"
                            },
                            "/",
                            "Guideware-aws-appnew.template"
                        ]
                    ]
                },
                "Parameters": {
                    "pAppServerKeyName": {
                        "Ref": "pAppServerKeyName"
                    },
                    "pAppInstanceType": {
                        "Ref": "pAppInstanceType"
                    },
                    "pInstanceProfile": {
                        "Fn::GetAtt": [
                            "AppInstanceProfile",
                            "Arn"
                        ]
                    },

                    "pVPCID": {
                        "Ref": "rVPC"
                    },
                    "pPrivateSubnetIDAZ1": {
                        "Ref": "rPrivateSubnetAZ1"
                    },
                    "pPrivateSubnetIDAZ2": {
                        "Ref": "rPrivateSubnetAZ2"
                    },
                    "pPrivateSubnetAZ1": {
                        "Fn::GetAtt": [
                            "rPrivateSubnetAZ1",
                            "AvailabilityZone"
                        ]
                    },
                    "pPrivateSubnetAZ2": {
                        "Fn::GetAtt": [
                            "rPrivateSubnetAZ2",
                            "AvailabilityZone"
                        ]
                    },
                    "pSSLCertificateArn": {
                        "Ref": "pSSLCertificateArn"
                    },
                    "pKMSKeyID": {
                        "Ref": "rGuidewareEncryptionKey"
                    },
                    "pAppEBSVolumeSize": {
                        "Ref": "pAppEBSVolumeSize"
                    },
                    "pAppEBSIOPs": {
                        "Ref": "pAppEBSIOPs"
                    },
                    "pOperatorEmail": {
                        "Ref": "pOperatorEmail"
                    }
                }
            },
            "Metadata": {
                "AWS::CloudFormation::Designer": {
                    "id": "2d33e145-7bda-45eb-a64c-376aeb132e36"
                }
            }
        },
        "DBLayerStack": {
            "Type": "AWS::CloudFormation::Stack",
            "Properties": {
                "TemplateURL": {
                    "Fn::Join": [
                        "",
                        [
                            {
                                "Fn::FindInMap": [
                                    "AWSInfoRegionMap",
                                    {
                                        "Ref": "AWS::Region"
                                    },
                                    "QuickStartS3URL"
                                ]
                            },
                            "/",
                            {
                                "Ref": "QSS3BucketName"
                            },
                            "/",
                            {
                                "Ref": "QSS3KeyPrefix"
                            },
                            "/",
                            "Guideware-aws-db.template"
                        ]
                    ]
                },
                "Parameters": {
                    "pDBName": {
                        "Ref": "pDBName"
                    },
                    "pDBUser": {
                        "Ref": "pDBUser"
                    },
                    "pDBPassword": {
                        "Ref": "pDBPassword"
                    },
                    "pVPCID": {
                        "Ref": "rVPC"
                    },
                    "pPrimaryPrivateSubnet": {
                        "Ref": "rPrivateSubnetDBAZ1"
                    },
                    "pSecondaryPrivateSubnet": {
                        "Ref": "rPrivateSubnetDBAZ2"
                    }
                }
            },
            "Metadata": {
                "AWS::CloudFormation::Designer": {
                    "id": "0793bccd-9da9-4068-8d6c-d12c1b9e1e8d"
                }
            }
        }
    },
    "Outputs": {
        "VPCId": {
            "Description": "VPC ID",
            "Value": {
                "Ref": "rVPC"
            },
            "Export": {
                "Name": {
                    "Fn::Sub": "${AWS::StackName}-VPCID"
                }
            }
        },
        "rPublicSubnetAZ1": {
            "Description": "The subnet ID to use for public web servers in AZ1",
            "Value": {
                "Ref": "rPublicSubnetAZ1"
            },
            "Export": {
                "Name": {
                    "Fn::Sub": "${AWS::StackName}-PublicSubnetAZ1"
                }
            }
        },
        "rPublicSubnetAZ2": {
            "Description": "The subnet ID to use for public web servers in AZ2",
            "Value": {
                "Ref": "rPublicSubnetAZ2"
            },
            "Export": {
                "Name": {
                    "Fn::Sub": "${AWS::StackName}-PublicSubnetAZ2"
                }
            }
        },
        "rPrivateSubnetAZ1": {
            "Description": "The Application PrivateSubnet's AZ1",
            "Export": {
                "Name": {
                    "Fn::Sub": "${AWS::StackName}-PrivateSubnetAZ1"
                }
            },
            "Value": {
                "Fn::GetAtt": [
                    "rPrivateSubnetAZ1",
                    "AvailabilityZone"
                ]
            }
        },
        "rPrivateSubnetAZ2": {
            "Description": "The Application PrivateSubnet's AZ2",
            "Export": {
                "Name": {
                    "Fn::Sub": "${AWS::StackName}-PrivateSubnetAZ2"
                }
            },
            "Value": {
                "Fn::GetAtt": [
                    "rPrivateSubnetAZ2",
                    "AvailabilityZone"
                ]
            }
        },
        "rAPPNATGatewayAZ1": {
            "Description": "The Application NAT Gateway in AZ1",
            "Value": {
                "Ref": "rAPPNATGatewayAZ1"
            },
            "Export": {
                "Name": {
                    "Fn::Sub": "${AWS::StackName}-rAPPNATGatewayAZ1"
                }
            }
        },
        "rAPPNATGatewayAZ2": {
            "Description": "The Application NAT Gateway in AZ2",
            "Value": {
                "Ref": "rAPPNATGatewayAZ2"
            },
            "Export": {
                "Name": {
                    "Fn::Sub": "${AWS::StackName}-rAPPNATGatewayAZ2"
                }
            }
        },
        "rPrivateSubnetIDAZ1": {
            "Description": "The Application PrivateSubnet",
            "Value": {
                "Ref": "rPrivateSubnetAZ1"
            },
            "Export": {
                "Name": {
                    "Fn::Sub": "${AWS::StackName}-SubnetIDAZ1"
                }
            }
        },
        "rPrivateSubnetIDAZ2": {
            "Description": "The Application PrivateSubnet",
            "Value": {
                "Ref": "rPrivateSubnetAZ2"
            },
            "Export": {
                "Name": {
                    "Fn::Sub": "${AWS::StackName}-SubnetIDAZ2"
                }
            }
        },
        "rwebPrivateSubnetIDAZ1": {
            "Description": "The Web PrivateSubnet for AZ1",
            "Value": {
                "Ref": "rwebPrivateSubnetAZ1"
            },
            "Export": {
                "Name": {
                    "Fn::Sub": "${AWS::StackName}-webSubnetIDAZ1"
                }
            }
        },
        "rwebPrivateSubnetAZ1": {
            "Description": "The Web PrivateSubnet's AZ1",
            "Export": {
                "Name": {
                    "Fn::Sub": "${AWS::StackName}-webPrivateSubnetAZ"
                }
            },
            "Value": {
                "Fn::GetAtt": [
                    "rwebPrivateSubnetAZ1",
                    "AvailabilityZone"
                ]
            }
        },
        "rwebPrivateSubnetIDAZ2": {
            "Description": "The Web PrivateSubnet in AZ2",
            "Value": {
                "Ref": "rwebPrivateSubnetAZ2"
            },
            "Export": {
                "Name": {
                    "Fn::Sub": "${AWS::StackName}-webSubnetIDAZ2"
                }
            }
        },
        "rwebPrivateSubnetAZ2": {
            "Description": "The Web PrivateSubnet's in AZ2",
            "Export": {
                "Name": {
                    "Fn::Sub": "${AWS::StackName}-webPrivateSubnetAZ2"
                }
            },
            "Value": {
                "Fn::GetAtt": [
                    "rwebPrivateSubnetAZ2",
                    "AvailabilityZone"
                ]
            }
        },
        "rPrivateSubnetDBAZ2": {
            "Description": "The DB Secondary PrivateSubnet ID in AZ2",
            "Value": {
                "Ref": "rPrivateSubnetDBAZ2"
            },
            "Export": {
                "Name": {
                    "Fn::Sub": "${AWS::StackName}-dbSecondarySubnetID"
                }
            }
        },
        "rPrimaryPrivateSubnetAZ": {
            "Description": "The DB Primary PrivateSubnet's AZ",
            "Export": {
                "Name": {
                    "Fn::Sub": "${AWS::StackName}-dbPrimaryPrivateSubnetAZ"
                }
            },
            "Value": {
                "Fn::GetAtt": [
                    "rPrivateSubnetDBAZ1",
                    "AvailabilityZone"
                ]
            }
        },
        "rPrivateSubnetDBAZ1": {
            "Description": "The DB Primary PrivateSubnet ID in AZ1",
            "Value": {
                "Ref": "rPrivateSubnetDBAZ1"
            },
            "Export": {
                "Name": {
                    "Fn::Sub": "${AWS::StackName}-dbPrimarySubnetID"
                }
            }
        }
    },
    "Metadata": {
        "AWS::CloudFormation::Designer": {
            "dab0cf5d-1564-43de-a426-cb17cd63acea": {
                "size": {
                    "width": 60,
                    "height": 60
                },
                "position": {
                    "x": 60,
                    "y": 1290
                },
                "z": 1,
                "embeds": []
            },
            "1f87b093-21a8-4afd-b619-1d619eb68df7": {
                "size": {
                    "width": 60,
                    "height": 60
                },
                "position": {
                    "x": 180,
                    "y": 1290
                },
                "z": 1,
                "embeds": []
            },
            "bee4e275-0b83-4bb6-b8c4-9832c5f3785f": {
                "size": {
                    "width": 60,
                    "height": 60
                },
                "position": {
                    "x": 300,
                    "y": 1290
                },
                "z": 1,
                "embeds": [],
                "isassociatedwith": [
                    "1f87b093-21a8-4afd-b619-1d619eb68df7"
                ]
            },
            "10c6da3b-76b0-40ca-babd-363e9b3cda95": {
                "size": {
                    "width": 60,
                    "height": 60
                },
                "position": {
                    "x": 420,
                    "y": 1290
                },
                "z": 1,
                "embeds": []
            },
            "9b31681f-9a95-471f-b84d-036c46bbe97c": {
                "size": {
                    "width": 60,
                    "height": 60
                },
                "position": {
                    "x": 540,
                    "y": 1290
                },
                "z": 1,
                "embeds": [],
                "isassociatedwith": [
                    "10c6da3b-76b0-40ca-babd-363e9b3cda95"
                ]
            },
            "f1d848b4-49ea-4e9f-8a8b-053b2270a341": {
                "size": {
                    "width": 60,
                    "height": 60
                },
                "position": {
                    "x": 660,
                    "y": 1290
                },
                "z": 1,
                "embeds": []
            },
            "fb03a7a3-eae5-4f35-8ea1-a1c8ef661186": {
                "size": {
                    "width": 60,
                    "height": 60
                },
                "position": {
                    "x": 780,
                    "y": 1290
                },
                "z": 1,
                "embeds": []
            },
            "343c4b60-8570-4028-995c-e15a45b83c04": {
                "size": {
                    "width": 60,
                    "height": 60
                },
                "position": {
                    "x": 900,
                    "y": 1290
                },
                "z": 1,
                "embeds": []
            },
            "5ab87b09-a619-46cf-8934-533d117a0fb1": {
                "size": {
                    "width": 60,
                    "height": 60
                },
                "position": {
                    "x": 1020,
                    "y": 1290
                },
                "z": 1,
                "embeds": []
            },
            "37b279d5-23fe-4257-a398-9fd164aa2c08": {
                "source": {
                    "id": "343c4b60-8570-4028-995c-e15a45b83c04"
                },
                "target": {
                    "id": "5ab87b09-a619-46cf-8934-533d117a0fb1"
                },
                "z": 1
            },
            "3417b4ac-11ce-4721-b2e6-a0dd23075e4f": {
                "size": {
                    "width": 60,
                    "height": 60
                },
                "position": {
                    "x": 1140,
                    "y": 1290
                },
                "z": 1,
                "embeds": [],
                "references": [
                    "37b279d5-23fe-4257-a398-9fd164aa2c08"
                ]
            },
            "55f71046-7979-4f7d-9aeb-42d91b3921fb": {
                "size": {
                    "width": 60,
                    "height": 60
                },
                "position": {
                    "x": 1260,
                    "y": 1290
                },
                "z": 1,
                "embeds": []
            },
            "cc74d66d-558a-4c5b-bc0b-963b1b845dcd": {
                "size": {
                    "width": 1500,
                    "height": 1080
                },
                "position": {
                    "x": -370,
                    "y": 170
                },
                "z": 1,
                "embeds": [
                    "2e834c5e-df8c-443b-903c-b528260b32eb",
                    "c4450a3f-2d14-4786-a414-2b67ed80b268",
                    "765e5873-f7b9-48e0-b8e2-78f80af80c69",
                    "b95c0b8c-571c-459b-ae13-f8a33890bd60",
                    "97fa1ea3-c811-49b8-b507-bd5c88866213",
                    "69d66f41-7d94-498d-a47b-703eaeb8c79e",
                    "6c27d479-a6a0-4cfe-b324-24ed479ae900",
                    "18503f37-e3c6-43f9-8268-7bd4ba0a7b71",
                    "d1a4544e-25ad-475a-b61b-5b503f5da86d",
                    "5120d8aa-085f-486d-aa46-4658d5a0fe99",
                    "10231204-86c0-49a1-beb7-ed948140e170",
                    "38889972-bc47-4f0c-a53e-3c7a94dc4592"
                ]
            },
            "2e834c5e-df8c-443b-903c-b528260b32eb": {
                "size": {
                    "width": 330,
                    "height": 240
                },
                "position": {
                    "x": -310,
                    "y": 740
                },
                "z": 2,
                "parent": "cc74d66d-558a-4c5b-bc0b-963b1b845dcd",
                "embeds": [
                    "3ac6a853-4804-4cde-89ba-65552a7e4844",
                    "57c7aeed-d178-461f-b2a8-63c640af1431"
                ]
            },
            "3ac6a853-4804-4cde-89ba-65552a7e4844": {
                "size": {
                    "width": 60,
                    "height": 60
                },
                "position": {
                    "x": -280,
                    "y": 800
                },
                "z": 3,
                "parent": "2e834c5e-df8c-443b-903c-b528260b32eb",
                "embeds": []
            },
            "57c7aeed-d178-461f-b2a8-63c640af1431": {
                "size": {
                    "width": 60,
                    "height": 60
                },
                "position": {
                    "x": -160,
                    "y": 800
                },
                "z": 3,
                "parent": "2e834c5e-df8c-443b-903c-b528260b32eb",
                "embeds": []
            },
            "c4450a3f-2d14-4786-a414-2b67ed80b268": {
                "size": {
                    "width": 330,
                    "height": 240
                },
                "position": {
                    "x": 610,
                    "y": 620
                },
                "z": 0,
                "parent": "cc74d66d-558a-4c5b-bc0b-963b1b845dcd",
                "embeds": [
                    "34717dce-6283-42dc-8a69-d8244d3f5ea4",
                    "38091ba6-55d9-47a2-982e-c66d496b2b90"
                ]
            },
            "845631d0-1076-4893-8fea-b82eb09fe86f": {
                "source": {
                    "id": "cc74d66d-558a-4c5b-bc0b-963b1b845dcd"
                },
                "target": {
                    "id": "5ab87b09-a619-46cf-8934-533d117a0fb1"
                },
                "z": 1
            },
            "765e5873-f7b9-48e0-b8e2-78f80af80c69": {
                "size": {
                    "width": 150,
                    "height": 150
                },
                "position": {
                    "x": 390,
                    "y": 660
                },
                "z": 2,
                "parent": "cc74d66d-558a-4c5b-bc0b-963b1b845dcd",
                "embeds": []
            },
            "778df171-5601-41df-a1a8-d2cf28ab2abb": {
                "source": {
                    "id": "2e834c5e-df8c-443b-903c-b528260b32eb"
                },
                "target": {
                    "id": "765e5873-f7b9-48e0-b8e2-78f80af80c69"
                },
                "z": 2
            },
            "d1144ffb-8741-47ca-9fb2-bdb6a8e73ac3": {
                "source": {
                    "id": "c4450a3f-2d14-4786-a414-2b67ed80b268"
                },
                "target": {
                    "id": "765e5873-f7b9-48e0-b8e2-78f80af80c69"
                },
                "z": 0
            },
            "b95c0b8c-571c-459b-ae13-f8a33890bd60": {
                "size": {
                    "width": 150,
                    "height": 150
                },
                "position": {
                    "x": 110,
                    "y": 650
                },
                "z": 2,
                "parent": "cc74d66d-558a-4c5b-bc0b-963b1b845dcd",
                "embeds": []
            },
            "112bab77-6c3f-4c33-a5ff-60f8a9344929": {
                "source": {
                    "id": "2e834c5e-df8c-443b-903c-b528260b32eb"
                },
                "target": {
                    "id": "b95c0b8c-571c-459b-ae13-f8a33890bd60"
                },
                "z": 2
            },
            "4aadcf07-52f3-462b-9178-7cac2f6c02b2": {
                "source": {
                    "id": "c4450a3f-2d14-4786-a414-2b67ed80b268"
                },
                "target": {
                    "id": "b95c0b8c-571c-459b-ae13-f8a33890bd60"
                },
                "z": 0
            },
            "97fa1ea3-c811-49b8-b507-bd5c88866213": {
                "size": {
                    "width": 150,
                    "height": 150
                },
                "position": {
                    "x": 400,
                    "y": 880
                },
                "z": 2,
                "parent": "cc74d66d-558a-4c5b-bc0b-963b1b845dcd",
                "embeds": []
            },
            "e31d4d24-ca5c-46a3-949f-d67d5b6c59f0": {
                "source": {
                    "id": "2e834c5e-df8c-443b-903c-b528260b32eb"
                },
                "target": {
                    "id": "97fa1ea3-c811-49b8-b507-bd5c88866213"
                },
                "z": 2
            },
            "e9258c20-ee8e-4126-a535-a9bf0bba2049": {
                "source": {
                    "id": "c4450a3f-2d14-4786-a414-2b67ed80b268"
                },
                "target": {
                    "id": "97fa1ea3-c811-49b8-b507-bd5c88866213"
                },
                "z": 0
            },
            "69d66f41-7d94-498d-a47b-703eaeb8c79e": {
                "size": {
                    "width": 150,
                    "height": 150
                },
                "position": {
                    "x": 120,
                    "y": 890
                },
                "z": 2,
                "parent": "cc74d66d-558a-4c5b-bc0b-963b1b845dcd",
                "embeds": []
            },
            "1f3fa8de-2929-40fb-a4b4-ec9841ad80ed": {
                "source": {
                    "id": "2e834c5e-df8c-443b-903c-b528260b32eb"
                },
                "target": {
                    "id": "69d66f41-7d94-498d-a47b-703eaeb8c79e"
                },
                "z": 2
            },
            "bd414290-2000-400d-9044-7bd090cdcf06": {
                "source": {
                    "id": "c4450a3f-2d14-4786-a414-2b67ed80b268"
                },
                "target": {
                    "id": "69d66f41-7d94-498d-a47b-703eaeb8c79e"
                },
                "z": 0
            },
            "6c27d479-a6a0-4cfe-b324-24ed479ae900": {
                "size": {
                    "width": 330,
                    "height": 330
                },
                "position": {
                    "x": -320,
                    "y": 280
                },
                "z": 2,
                "parent": "cc74d66d-558a-4c5b-bc0b-963b1b845dcd",
                "embeds": [
                    "f0d381ce-5641-4540-88b4-25c225ab26dc",
                    "ec05861c-3a5c-48cd-bfe8-d1a56ea1c8b4",
                    "1047eb91-4a72-4df7-868c-9d96c63913fd",
                    "6bcfccad-a9f5-4f49-b13a-fdeabb625020"
                ]
            },
            "f0d381ce-5641-4540-88b4-25c225ab26dc": {
                "size": {
                    "width": 60,
                    "height": 60
                },
                "position": {
                    "x": -290,
                    "y": 340
                },
                "z": 3,
                "parent": "6c27d479-a6a0-4cfe-b324-24ed479ae900",
                "embeds": []
            },
            "ec05861c-3a5c-48cd-bfe8-d1a56ea1c8b4": {
                "size": {
                    "width": 60,
                    "height": 60
                },
                "position": {
                    "x": -170,
                    "y": 340
                },
                "z": 3,
                "parent": "6c27d479-a6a0-4cfe-b324-24ed479ae900",
                "embeds": []
            },
            "1047eb91-4a72-4df7-868c-9d96c63913fd": {
                "size": {
                    "width": 60,
                    "height": 60
                },
                "position": {
                    "x": -290,
                    "y": 460
                },
                "z": 3,
                "parent": "6c27d479-a6a0-4cfe-b324-24ed479ae900",
                "embeds": []
            },
            "6bcfccad-a9f5-4f49-b13a-fdeabb625020": {
                "size": {
                    "width": 60,
                    "height": 60
                },
                "position": {
                    "x": -170,
                    "y": 460
                },
                "z": 3,
                "parent": "6c27d479-a6a0-4cfe-b324-24ed479ae900",
                "embeds": []
            },
            "18503f37-e3c6-43f9-8268-7bd4ba0a7b71": {
                "size": {
                    "width": 240,
                    "height": 240
                },
                "position": {
                    "x": 700,
                    "y": 280
                },
                "z": 0,
                "parent": "cc74d66d-558a-4c5b-bc0b-963b1b845dcd",
                "embeds": [
                    "a26d6d51-ab21-4c09-a5b1-c727936aae62"
                ]
            },
            "a26d6d51-ab21-4c09-a5b1-c727936aae62": {
                "size": {
                    "width": 60,
                    "height": 60
                },
                "position": {
                    "x": 730,
                    "y": 340
                },
                "z": 3,
                "parent": "18503f37-e3c6-43f9-8268-7bd4ba0a7b71",
                "embeds": [],
                "references": [
                    "55f71046-7979-4f7d-9aeb-42d91b3921fb"
                ]
            },
            "d1a4544e-25ad-475a-b61b-5b503f5da86d": {
                "size": {
                    "width": 240,
                    "height": 240
                },
                "position": {
                    "x": 360,
                    "y": 310
                },
                "z": 2,
                "parent": "cc74d66d-558a-4c5b-bc0b-963b1b845dcd",
                "embeds": [
                    "f10815df-0eaa-4247-9b03-62e4d221330b"
                ]
            },
            "f10815df-0eaa-4247-9b03-62e4d221330b": {
                "size": {
                    "width": 60,
                    "height": 60
                },
                "position": {
                    "x": 390,
                    "y": 370
                },
                "z": 3,
                "parent": "d1a4544e-25ad-475a-b61b-5b503f5da86d",
                "embeds": [],
                "isrelatedto": [
                    "f1d848b4-49ea-4e9f-8a8b-053b2270a341"
                ]
            },
            "5046a03a-347d-4faf-9ea4-a372000c9a17": {
                "source": {
                    "id": "6c27d479-a6a0-4cfe-b324-24ed479ae900"
                },
                "target": {
                    "id": "d1a4544e-25ad-475a-b61b-5b503f5da86d"
                },
                "z": 2
            },
            "dfbcf14b-f1d0-4d6f-986b-cbd10916137e": {
                "source": {
                    "id": "18503f37-e3c6-43f9-8268-7bd4ba0a7b71"
                },
                "target": {
                    "id": "d1a4544e-25ad-475a-b61b-5b503f5da86d"
                },
                "z": 0
            },
            "5120d8aa-085f-486d-aa46-4658d5a0fe99": {
                "size": {
                    "width": 240,
                    "height": 240
                },
                "position": {
                    "x": 70,
                    "y": 320
                },
                "z": 2,
                "parent": "cc74d66d-558a-4c5b-bc0b-963b1b845dcd",
                "embeds": [
                    "9720db45-f61d-4f79-b1ee-509aba3dafba"
                ]
            },
            "9720db45-f61d-4f79-b1ee-509aba3dafba": {
                "size": {
                    "width": 60,
                    "height": 60
                },
                "position": {
                    "x": 100,
                    "y": 380
                },
                "z": 3,
                "parent": "5120d8aa-085f-486d-aa46-4658d5a0fe99",
                "embeds": [],
                "isrelatedto": [
                    "fb03a7a3-eae5-4f35-8ea1-a1c8ef661186"
                ]
            },
            "34717dce-6283-42dc-8a69-d8244d3f5ea4": {
                "size": {
                    "width": 60,
                    "height": 60
                },
                "position": {
                    "x": 640,
                    "y": 680
                },
                "z": 3,
                "parent": "c4450a3f-2d14-4786-a414-2b67ed80b268",
                "embeds": [],
                "isrelatedto": [
                    "9720db45-f61d-4f79-b1ee-509aba3dafba"
                ]
            },
            "38091ba6-55d9-47a2-982e-c66d496b2b90": {
                "size": {
                    "width": 60,
                    "height": 60
                },
                "position": {
                    "x": 760,
                    "y": 680
                },
                "z": 3,
                "parent": "c4450a3f-2d14-4786-a414-2b67ed80b268",
                "embeds": [],
                "dependson": [
                    "845631d0-1076-4893-8fea-b82eb09fe86f"
                ],
                "isrelatedto": [
                    "9720db45-f61d-4f79-b1ee-509aba3dafba"
                ]
            },
            "bde377a3-60b7-4030-ab89-a35a51a7f8e1": {
                "source": {
                    "id": "6c27d479-a6a0-4cfe-b324-24ed479ae900"
                },
                "target": {
                    "id": "5120d8aa-085f-486d-aa46-4658d5a0fe99"
                },
                "z": 2
            },
            "c4ff394d-65bc-46ee-972a-63ec9f817db4": {
                "source": {
                    "id": "18503f37-e3c6-43f9-8268-7bd4ba0a7b71"
                },
                "target": {
                    "id": "5120d8aa-085f-486d-aa46-4658d5a0fe99"
                },
                "z": 0
            },
            "10231204-86c0-49a1-beb7-ed948140e170": {
                "size": {
                    "width": 150,
                    "height": 150
                },
                "position": {
                    "x": 120,
                    "y": 1100
                },
                "z": 2,
                "parent": "cc74d66d-558a-4c5b-bc0b-963b1b845dcd",
                "embeds": []
            },
            "c12f73c5-bf8b-48d2-8ff9-021118b874e0": {
                "source": {
                    "id": "2e834c5e-df8c-443b-903c-b528260b32eb"
                },
                "target": {
                    "id": "10231204-86c0-49a1-beb7-ed948140e170"
                },
                "z": 2
            },
            "93a3a9ba-de85-4cb4-9f9f-2bfdc6d11420": {
                "source": {
                    "id": "c4450a3f-2d14-4786-a414-2b67ed80b268"
                },
                "target": {
                    "id": "10231204-86c0-49a1-beb7-ed948140e170"
                },
                "z": 0
            },
            "38889972-bc47-4f0c-a53e-3c7a94dc4592": {
                "size": {
                    "width": 150,
                    "height": 150
                },
                "position": {
                    "x": 410,
                    "y": 1100
                },
                "z": 2,
                "parent": "cc74d66d-558a-4c5b-bc0b-963b1b845dcd",
                "embeds": []
            },
            "0793bccd-9da9-4068-8d6c-d12c1b9e1e8d": {
                "size": {
                    "width": 60,
                    "height": 60
                },
                "position": {
                    "x": 1350,
                    "y": 90
                },
                "z": 1,
                "embeds": [],
                "isrelatedto": [
                    "cc74d66d-558a-4c5b-bc0b-963b1b845dcd",
                    "38889972-bc47-4f0c-a53e-3c7a94dc4592",
                    "10231204-86c0-49a1-beb7-ed948140e170"
                ]
            },
            "2d33e145-7bda-45eb-a64c-376aeb132e36": {
                "size": {
                    "width": 60,
                    "height": 60
                },
                "position": {
                    "x": 1350,
                    "y": 210
                },
                "z": 1,
                "embeds": [],
                "dependson": [
                    "0793bccd-9da9-4068-8d6c-d12c1b9e1e8d"
                ],
                "isrelatedto": [
                    "bee4e275-0b83-4bb6-b8c4-9832c5f3785f",
                    "cc74d66d-558a-4c5b-bc0b-963b1b845dcd",
                    "69d66f41-7d94-498d-a47b-703eaeb8c79e",
                    "97fa1ea3-c811-49b8-b507-bd5c88866213",
                    "dab0cf5d-1564-43de-a426-cb17cd63acea"
                ]
            },
            "0d9d81b1-995c-458f-a5bc-f16c686bdc1d": {
                "size": {
                    "width": 60,
                    "height": 60
                },
                "position": {
                    "x": 1350,
                    "y": 330
                },
                "z": 1,
                "embeds": [],
                "dependson": [
                    "2d33e145-7bda-45eb-a64c-376aeb132e36"
                ],
                "isrelatedto": [
                    "9b31681f-9a95-471f-b84d-036c46bbe97c",
                    "cc74d66d-558a-4c5b-bc0b-963b1b845dcd",
                    "b95c0b8c-571c-459b-ae13-f8a33890bd60",
                    "765e5873-f7b9-48e0-b8e2-78f80af80c69"
                ]
            },
            "f548160a-5674-41a3-97e7-1806a3623484": {
                "size": {
                    "width": 60,
                    "height": 60
                },
                "position": {
                    "x": 1350,
                    "y": 450
                },
                "z": 1,
                "embeds": [],
                "dependson": [
                    "0d9d81b1-995c-458f-a5bc-f16c686bdc1d"
                ],
                "isrelatedto": [
                    "9b31681f-9a95-471f-b84d-036c46bbe97c",
                    "cc74d66d-558a-4c5b-bc0b-963b1b845dcd",
                    "5120d8aa-085f-486d-aa46-4658d5a0fe99",
                    "d1a4544e-25ad-475a-b61b-5b503f5da86d",
                    "b95c0b8c-571c-459b-ae13-f8a33890bd60",
                    "2d33e145-7bda-45eb-a64c-376aeb132e36",
                    "765e5873-f7b9-48e0-b8e2-78f80af80c69",
                    "dab0cf5d-1564-43de-a426-cb17cd63acea"
                ]
            },
            "3a70cc73-78af-4dfe-b196-e7c44b8341d3": {
                "source": {
                    "id": "2e834c5e-df8c-443b-903c-b528260b32eb"
                },
                "target": {
                    "id": "38889972-bc47-4f0c-a53e-3c7a94dc4592"
                },
                "z": 2
            },
            "ae7591e7-201a-4fa4-bc9e-134a903be7b7": {
                "source": {
                    "id": "c4450a3f-2d14-4786-a414-2b67ed80b268"
                },
                "target": {
                    "id": "38889972-bc47-4f0c-a53e-3c7a94dc4592"
                },
                "z": 0
            },
            "08999143-e436-4399-a066-256c50af1b04": {
                "source": {
                    "id": "55f71046-7979-4f7d-9aeb-42d91b3921fb"
                },
                "target": {
                    "id": "cc74d66d-558a-4c5b-bc0b-963b1b845dcd"
                },
                "z": 1
            }
        }
    }
}